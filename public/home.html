<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Salas – TaskPoker</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; }
    #joinForm { margin-top: 1rem; display: none; }
  </style>
</head>
<body>
  <button id="btnCreate">Criar Sala</button>
  <button id="btnJoin">Entrar em uma Sala</button>

  <!-- formulário que aparece só quando clicar em “Entrar” -->
  <form id="joinForm">
    <input id="roomInput" type="text" maxlength="6" placeholder="ID da sala (6 dígitos)" required />
    <button>Entrar</button>
  </form>

  <!-- … (restante do HTML igual) … -->
<script>
  const btnCreate = document.getElementById('btnCreate');
  const btnJoin   = document.getElementById('btnJoin');
  const joinForm  = document.getElementById('joinForm');
  const roomInput = document.getElementById('roomInput');

  // caracteres permitidos
  const CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';

  // gera string aleatória de 6 caracteres a partir de CHARS
  function gerarIdSala(tamanho = 6) {
    let id = '';
    for (let i = 0; i < tamanho; i++) {
      id += CHARS[Math.floor(Math.random() * CHARS.length)];
    }
    return id;
  }

  btnCreate.addEventListener('click', () => {
    const id = gerarIdSala();
    alert(`Sala criada! ID: ${id}`);
    // socket.emit('criarSala', id);
  });

  btnJoin.addEventListener('click', () => {
    joinForm.style.display = 'block';
    roomInput.focus();
  });

  joinForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const id = roomInput.value.trim().toUpperCase();
    if (!/^[0-9A-Z]{6}$/.test(id)) {
      alert('ID inválido. Use 6 caracteres 0-9 ou A-Z.');
      return;
    }
    alert(`Tentando entrar na sala ${id}…`);
    // socket.emit('entrarSala', id);
    roomInput.value = '';
    joinForm.style.display = 'none';
  });
</script>

</body>
</html>
